<template>
  <section class="flex h-full w-full flex-col">
    <!-- div-form -->
    <section class="mb-4 flex h-[650px] w-full items-center">
      <!-- form -->
      <div
        class="rounded-box bg-base-200 border-base-300 flex-1 border px-4 pb-4"
      >
        <fieldset class="fieldset w-full">
          <legend class="fieldset-legend">Thêm đợt giảm giá</legend>

          <label class="fieldset-label">Mã</label>
          <input
            v-model="formData.maDot"
            type="text"
            class="input w-full"
            placeholder="KM100..."
          />

          <label class="fieldset-label">Tên</label>
          <input
            v-model="formData.tenDot"
            type="text"
            class="input w-full"
            placeholder="Flash Sale, Black Friday,..."
          />

          <label class="fieldset-label">Giá trị giảm</label>
          <input
            v-model="formData.giaTriGiam"
            type="number"
            class="input w-full"
            placeholder="100.000,..."
          />

          <!-- <label class="fieldset-label">Giá trị đơn hàng tối thiểu</label>
          <input
            v-model="formData.giaTriToiThieu"
            type="text"
            class="input w-full"
            placeholder="100.000VND,..."
          /> -->

          <label class="fieldset-label">Loại</label>
          <input
            v-model="formData.loaiGiamGia"
            type="text"
            class="input w-full"
            placeholder="Name"
          />

          <!-- <label class="fieldset-label">Số lượng</label>
          <input
            v-model="formData.soLuong"
            type="number"
            class="input w-full"
            placeholder=""
          /> -->

          <label class="fieldset-label">Mô tả</label>
          <textarea
            v-model="formData.moTa"
            class="textarea w-full"
            placeholder="..."
          ></textarea>

          <div class="flex gap-4">
            <fieldset class="fieldset flex-1">
              <label class="fieldset-label">Ngày bắt đầu</label>
              <input
                v-model="formData.thoiGianBatDau"
                type="datetime-local"
                class="input w-full"
              />
            </fieldset>

            <fieldset class="fieldset flex-1">
              <label class="fieldset-label">Ngày kết thúc</label>
              <input
                v-model="formData.thoiGianKetThuc"
                type="datetime-local"
                class="input w-full"
              />
            </fieldset>
          </div>

          <label class="fieldset-label">Tình trạng</label>
          <select class="select w-full" v-model="formData.trangThai">
            <option>Đang diễn ra</option>
            <option>Kết thúc</option>
          </select>

          <button @click="submitForm" class="btn btn-primary btn-soft mt-4">
            Thêm
          </button>
        </fieldset>
      </div>

      <div class="divider divider-primary divider-horizontal"></div>

      <!-- div-table -->
      <div
        class="rounded-box bg-base-200 border-base-300 flex h-full flex-1 flex-col border p-4"
      >
        <!-- table -->
        <div class="mb-2 max-h-[600px] w-full overflow-auto">
          <table class="table-pin-rows table w-full text-center">
            <thead>
              <tr>
                <th>STT</th>
                <th>Tên</th>
                <th>Giá trị</th>
                <th>Thời gian</th>
                <th>Trạng thái</th>
                <th>Thao tác</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Phieu1</td>
                <td>100.000 đ</td>
                <td>1/1/2025 - 1/1/2026</td>
                <td>
                  <div class="badge badge-soft badge-success">Đang diễn ra</div>
                </td>
                <td>
                  <div class="join">
                    <button
                      class="join-item btn btn-soft btn-sm group hover:bg-primary border-none bg-transparent hover:text-white"
                    >
                      <span
                        class="icon-[heroicons-outline--pencil-alt] size-4 group-hover:hidden"
                      ></span>
                      <span
                        class="icon-[heroicons-solid--pencil-alt] hidden size-4 group-hover:inline"
                      ></span>
                    </button>
                    <button
                      class="join-item btn btn-soft btn-sm group hover:bg-primary border-none bg-transparent hover:text-white"
                    >
                      <span
                        class="icon-[mdi--bin-outline] size-4 group-hover:hidden"
                      ></span>
                      <span
                        class="icon-[mdi--bin] hidden size-4 group-hover:inline"
                      ></span>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- pagination -->
        <div class="mt-auto flex justify-between">
          <div class="flex items-center">
            <label class="label">
              <span>Xem</span>
              <span class="badge badge-soft badge-primary">
                <select class="focus:outline-none">
                  <option>5</option>
                  <option>10</option>
                  <option>20</option>
                </select>
              </span>
              <span>dòng 1 trang</span>
            </label>
          </div>

          <div class="join gap-2">
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              <span class="icon-[ep--arrow-left-bold]"></span>
            </button>
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              1
            </button>
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              2
            </button>
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              3
            </button>
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              4
            </button>
            <button
              class="join-item btn btn-circle btn-sm btn-soft btn-primary"
            >
              <span class="icon-[ep--arrow-right-bold]"></span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <span class="text-base-content mb-2 text-2xl font-bold"
      >Chi tiết sản phẩm</span
    >

    <!-- div-table-detail -->
    <section
      class="rounded-box bg-base-200 border-base-300 flex max-h-[650px] flex-1 flex-col border p-4"
    >
      <!-- table -->
      <div class="max-h-[600px] w-full overflow-auto">
        <table class="table-pin-rows table w-full text-center">
          <thead>
            <tr>
              <th>STT</th>
              <th>Tên</th>
              <th>Giá trị</th>
              <th>Thời gian</th>
              <th>Trạng thái</th>
              <th>Thao tác</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td>Phieu1</td>
              <td>100.000 đ</td>
              <td>1/1/2025 - 1/1/2026</td>
              <td>
                <div class="badge badge-soft badge-success">Đang diễn ra</div>
              </td>
              <td>
                <div class="join">
                  <button
                    class="join-item btn btn-soft btn-sm group hover:bg-primary border-none bg-transparent hover:text-white"
                  >
                    <span
                      class="icon-[heroicons-outline--pencil-alt] size-4 group-hover:hidden"
                    ></span>
                    <span
                      class="icon-[heroicons-solid--pencil-alt] hidden size-4 group-hover:inline"
                    ></span>
                  </button>
                  <button
                    class="join-item btn btn-soft btn-sm group hover:bg-primary border-none bg-transparent hover:text-white"
                  >
                    <span
                      class="icon-[mdi--bin-outline] size-4 group-hover:hidden"
                    ></span>
                    <span
                      class="icon-[mdi--bin] hidden size-4 group-hover:inline"
                    ></span>
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- pagination -->
      <div class="mt-auto flex justify-between">
        <div class="flex items-center">
          <label class="label">
            <span>Xem</span>
            <span class="badge badge-soft badge-primary">
              <select class="focus:outline-none">
                <option>5</option>
                <option>10</option>
                <option>20</option>
              </select>
            </span>
            <span>dòng 1 trang</span>
          </label>
        </div>

        <div class="join gap-2">
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            <span class="icon-[ep--arrow-left-bold]"></span>
          </button>
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            1
          </button>
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            2
          </button>
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            3
          </button>
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            4
          </button>
          <button class="join-item btn btn-circle btn-sm btn-soft btn-primary">
            <span class="icon-[ep--arrow-right-bold]"></span>
          </button>
        </div>
      </div>
    </section>
  </section>
</template>
<script setup>
import { ref } from "vue";
import { submitSaleoff } from "../../apis/dotgiamgia";

const formData = ref({
  maDot: "",
  tenDot: "",
  giaTriGiam: 0,
  loaiGiamGia: "",
  soLuong: 0,
  moTa: "",
  thoiGianBatDau: "",
  thoiGianKetThuc: "",
  trangThai: "",
});

const submitForm = () => {
  submitSaleoff(formData.value);
};
</script>
